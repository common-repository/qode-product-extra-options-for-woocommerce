(C=>{window.qodeProductExtraOptionsForWooCommerce={},qodeProductExtraOptionsForWooCommerce.body=C("body"),qodeProductExtraOptionsForWooCommerce.html=C("html"),qodeProductExtraOptionsForWooCommerce.windowWidth=C(window).width(),qodeProductExtraOptionsForWooCommerce.windowHeight=C(window).height(),qodeProductExtraOptionsForWooCommerce.scroll=0,qodeProductExtraOptionsForWooCommerce.firstVariationLoading=!1,qodeProductExtraOptionsForWooCommerce.qpeofwDOM={editProductCartLink:".qpeofw-edit-product-cart",individualAddons:".qpeofw-individual-addons",cartPopup:".qpeofw-popup",popupOverlay:".qpeofw-overlay",popupClose:".qpeofw-close",popupWrapper:".qpeofw-wrapper",popupContent:".qpeofw-content",popupFooter:".qpeofw-footer",addToCartButton:".qpeofw-popup .single_add_to_cart_button",popupForm:".qpeofw-popup form.cart",variationForm:".qpeofw-popup form.variations_form",addonsContainer:".qpeofw-container",hiddenItemKey:".qpeofw-cart-item-key",addonImageInput:"#qpeofw_product_img",formCart:"form.cart",totalPriceTable:"#qpeofw-total-price-table",wcProductGallery:".woocommerce-product-gallery"},C(document).ready(function(){qodeProductExtraOptionsForWooCommerce.scroll=C(window).scrollTop(),qodeProductExtraOptionsForWooCommerce.qodefToggleOptions.init(),qodeProductExtraOptionsForWooCommerce.multipliedByValuePrice.init(),qodeProductExtraOptionsForWooCommerce.calculateTotalAddonsPrice.init(),qodeProductExtraOptionsForWooCommerce.totalAddonsPriceInitOn.init(),qodeProductExtraOptionsForWooCommerce.qodefWooCommerceMeasurementCompatibility.init(),qodeProductExtraOptionsForWooCommerce.productQty.init(),qodeProductExtraOptionsForWooCommerce.qodefCompositeCompatibility.init()}),C(window).resize(function(){qodeProductExtraOptionsForWooCommerce.windowWidth=C(window).width(),qodeProductExtraOptionsForWooCommerce.windowHeight=C(window).height()}),C(window).scroll(function(){qodeProductExtraOptionsForWooCommerce.scroll=C(window).scrollTop()}),C(window).on("load",function(){qodeProductExtraOptionsForWooCommerce.qodefAddonFieldsSelect2.init()});var e={init:function(){this.holder=C(".qodeProductExtraOptionsForWooCommerce--has-appear:not(.qodeProductExtraOptionsForWooCommerce--appeared)"),this.holder.length&&this.holder.each(function(){var e=C(this);qodeProductExtraOptionsForWooCommerce.qodeProductExtraOptionsForWooCommerceIsInViewport.check(e,()=>{qodeProductExtraOptionsForWooCommerce.qodeProductExtraOptionsForWooCommerceWaitForImages.check(e,function(){e.addClass("qodeProductExtraOptionsForWooCommerce--appeared")})})})}};qodeProductExtraOptionsForWooCommerce.qodeProductExtraOptionsForWooCommerceAppear=e,qodeProductExtraOptionsForWooCommerce.qodeProductExtraOptionsForWooCommerceIsInViewport=e={check:function(o,t,r,a){var e,i;o.length&&(e=void 0!==o.data("viewport-offset")?o.data("viewport-offset"):.15,(i=new IntersectionObserver(function(e){!0===e[0].isIntersecting?(t.call(o),!1!==r&&i.disconnect()):a&&!1===r&&a.call(o)},{threshold:[e]})).observe(o[0]))}};qodeProductExtraOptionsForWooCommerce.qodeProductExtraOptionsForWooCommerceWaitForImages=e={check:function(e,o){if(e.length){var t=e.find("img");if(t.length)for(var r=0,a=t.length,i=0;i<a;i++){var n,d=t[i];d.complete?++r===t.length&&o.call(e):((n=new Image).addEventListener("load",function(){if(++r===t.length)return o.call(e),!1},!1),n.src=d.src)}else o.call(e)}}};var r={disable:function(){window.addEventListener&&window.addEventListener("wheel",r.preventDefaultValue,{passive:!1}),document.onkeydown=r.keyDown},enable:function(){window.removeEventListener&&window.removeEventListener("wheel",r.preventDefaultValue,{passive:!1}),window.onmousewheel=document.onmousewheel=document.onkeydown=null},preventDefaultValue:function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1},keyDown:function(e){for(var o=[37,38,39,40],t=o.length;t--;)if(e.keyCode===o[t])return void r.preventDefaultValue(e)}},i=(qodeProductExtraOptionsForWooCommerce.qodeProductExtraOptionsForWooCommerceScroll=r,C(document).on("click","form.cart button",function(){return qodeProductExtraOptionsForWooCommerce.checkAddonsRequirements.init()}).on("change",".qpeofw-addon-type-checkbox, .qpeofw-addon-type-color, .qpeofw-addon-type-label, .qpeofw-addon-type-product",function(){qodeProductExtraOptionsForWooCommerce.qodefCheckMinMax.init(C(this))}),{init:function(e=""){let o=!0;i.checkRequiredSelect()||(o=!1),i.checkTextInputLimit()||(o=!1),"hide"===e||qodeProductExtraOptionsForWooCommerce.qodefCheckRequiredFields.init("highlight")||(o=!1);var t,r=0,a="hide"!==e;return C("form.cart .qpeofw-addon:not(.hidden)").each(function(){0<(t=qodeProductExtraOptionsForWooCommerce.qodefCheckMinMax.init(C(this),a))&&(r+=t)}),o="hide"!==e&&0<r?!1:o},checkRequiredSelect:function(){var i=!0;return C(".qpeofw-addon.qpeofw-addon-type-select select").each(function(){var e,o,t,r,a=C(this);a.is(":required")&&(o=(e=a.parents(".qpeofw-addon")).find(".qpeofw-min-error-message"),t=e.find(".qpeofw-addon-title"),r=a.val(),o.text(""),t.removeClass("qpeofw-error"),e.removeClass("qpeofw-required-min"),"default"!==r||e.hasClass("hidden")||(i=!1)||(r=e.find(".qpeofw-min-error"),a=a.parents("div.qpeofw-addon.qpeofw--toggle").find(".qpeofw-addon-title.qpeofw--toggle-closed"),e.addClass("qpeofw-required-min"),a&&a.click(),t.addClass("qpeofw-error"),o.text(qpeofwFrontend.i18n.selectAnOption.replace("%d",1)),r.show()))}),i},checkTextInputLimit:function(){var i=!0;return C("form.cart .qpeofw-addon.qpeofw-addon-type-text:not(.hidden) input").each((e,o)=>{var o=C(o),t=o.val(),r=o.attr("minlength"),a=o.attr("maxlength");0!==t.length&&(""!==r&&t.length<r||""!==a&&t.length>a?(o.addClass("qpeofw-length-error"),o.parents(".qpeofw-label").siblings(".qpeofw-length-error-message").show(),i=!1):(o.parents(".qpeofw-label").siblings(".qpeofw-length-error-message").hide(),o.removeClass("qpeofw-length-error")))}),i}});qodeProductExtraOptionsForWooCommerce.qodefCheckRequiredMinMax=i,qodeProductExtraOptionsForWooCommerce.checkAddonsRequirements=e={init:function(){var e=qodeProductExtraOptionsForWooCommerce.qodefcheckNumbersTotalValues.init(),o=qodeProductExtraOptionsForWooCommerce.qodefCheckRequiredMinMax.init();return!!e&&(o||qpeofwFrontend.disable_scroll_on_required_mix_max||C("html, body").animate({scrollTop:C("#qpeofw-container").offset().top-20},500),o)}};qodeProductExtraOptionsForWooCommerce.qodefcheckNumbersTotalValues=e={init:function(){var e=C("#qpeofw-container .qpeofw-addon-type-number:not(.hidden).numbers-check"),c=!1;return e.each(function(e){var o=C(this),t=o.data("numbers-min"),r=o.data("numbers-max"),a=0,i=!1,n="",d=o.find(".options");d.hasClass("qpeofw-error-message")&&d.removeClass("qpeofw-error-message"),o.find(".qpeofw-numbers-error-message").remove(),o.find('input[type="number"]').each(function(){var e=C(this).val();if("undefined"===e||""===e)return!0;a+=parseFloat(e)}),void 0!==t&&a<t&&(i=!0,n=qpeofwFrontend.messages.minErrorMessage+" "+t),void 0!==r&&r<a&&(i=!0,n=qpeofwFrontend.messages.maxErrorMessage+" "+r),i&&(d.addClass("qpeofw-error-message"),o.append(C('<small class="qpeofw-numbers-error-message">'+n+"</small>")),c=!0,C("html, body").animate({scrollTop:o.offset().top-50},500))}),C(document).trigger("qodef_check_number_total_values"),!c}};var n={init:function(r){var a=!1,i=!1,e=qpeofwFrontend.dom.single_add_to_cart_button;return C("form.cart .qpeofw-addon:not(.hidden):visible input, form.cart .qpeofw-addon:not(.hidden):visible select, form.cart .qpeofw-addon:not(.hidden):visible textarea").each(function(){var e=C(this),o=(e.closest(".qpeofw-option"),e.closest(".qpeofw-addon")),t=e.closest("div.qpeofw-addon.qpeofw--toggle").find("h3.qpeofw-addon-title.qpeofw--toggle-closed"),o=o.find(".qpeofw-addon-title");"file"===e.attr("type")||e.hasClass("qpeofw-product-qty")||(e.attr("required")&&("checkbox"===e.attr("type")||"radio"===e.attr("type"))&&!e.closest(".qpeofw-option").hasClass("qpeofw-selected")||e.attr("required")&&(""==e.val()||"Required"==e.val())?("highlight"===r&&(n.showRequiredMessage(e),o.addClass("qpeofw-error"),t)&&t.click(),a=i=!0):n.restartRequiredElement(e))}),"hide"==r&&(i?C(e).hide():C(e).fadeIn()),!a},showRequiredMessage:function(e){e=e.closest(".qpeofw-option");e.find(".qpeofw-required-error").length||(e.append('<div class="qpeofw-required-error"><small class="qpeofw-required-message">'+qpeofwFrontend.messages.requiredMessage+"</small></div>"),e.addClass("qpeofw-required-color"))},restartRequiredElement:function(e){var o=e.closest(".qpeofw-option");e.closest(".qpeofw-option").find(".qpeofw-required-error").remove(),o.removeClass("qpeofw-required-color")}};qodeProductExtraOptionsForWooCommerce.qodefCheckRequiredFields=n,qodeProductExtraOptionsForWooCommerce.qodefCheckMinMax=e={init:function(e,o=!1){var t,r=e.data("addon-type"),a=e.data("min"),i=e.data("max"),n=e.data("exa"),d=e.find(".qpeofw-min-error-message"),c=e.find(".qpeofw-addon-title"),p=0,s=e.find(".qpeofw-addon-title.qpeofw--toggle-closed");if(c.removeClass("qpeofw-error"),"select"!==r&&(""!==a||""!==n||""!==i)){if("number"===r||"text"===r||"textarea"===r){if(C(e).find(".qpeofw-option-value").each(function(e){C(this).val().length&&p++}),i&&i<p)return(t=C(e).find(".options-container")).find(".qpeofw-max-selected-error").length||(t.append('<p class="qpeofw-max-selected-error">'+qpeofwFrontend.i18n.maxOptionsSelectedMessage+"</p>"),c.addClass("qpeofw-error")),1}else p=e.find("input:checkbox:checked, input:radio:checked").length;if(0<n)return l=0,n==p?(e.removeClass("qpeofw-required-min").find(".qpeofw-min-error").hide(),e.find("input:checkbox").not(":checked")):(o&&(l=n-p,e.addClass("qpeofw-required-min"),e.find(".qpeofw-min-error").show(),c.addClass("qpeofw-error"),r=qpeofwFrontend.i18n.selectOptions.replace("%d",n),1===n&&(r=qpeofwFrontend.i18n.selectAnOption),d.text(r),s)&&s.click(),e.find(".qpeofw-option:not(.out-of-stock) input:checkbox").not(":checked").attr("disabled",!1)),l;if(0<a){var l=a-p;if(!(a<=p))return o&&(n=qpeofwFrontend.i18n.selectAnOption,1<a&&(n=qpeofwFrontend.i18n.selectAtLeast.replace("%d",a)),e.addClass("qpeofw-required-min"),e.find(".qpeofw-min-error").show(),c.addClass("qpeofw-error"),d.text(n),s)&&s.click(),l;e.removeClass("qpeofw-required-min").find(".qpeofw-min-error").hide()}if(i&&!(p<=i))return o&&(e.addClass("qpeofw-required-min"),(t=C(e).find(".options-container")).find(".max-selected-error").length||(t.append('<small class="max-selected-error">'+qpeofwFrontend.i18n.maxOptionsSelectedMessage+"</small>"),c.addClass("qpeofw-error"))),1;e.removeClass("qpeofw-required-min").find(".max-selected-error").hide()}}},qodeProductExtraOptionsForWooCommerce.qodefToggleOptions=e={init:function(){var e=C(".qpeofw-addon.qpeofw--toggle .qpeofw-addon-header");e.length&&e.on("click",function(e){e.preventDefault();var e=C(this).find(".qpeofw-addon-title"),o=e.closest(".qpeofw-addon");o.hasClass("qpeofw--toggle-open")?o.removeClass("qpeofw--toggle-open").addClass("qpeofw--toggle-closed"):o.removeClass("qpeofw--toggle-closed").addClass("qpeofw--toggle-open"),e.hasClass("qpeofw--toggle-open")?e.removeClass("qpeofw--toggle-open").addClass("qpeofw--toggle-closed"):e.removeClass("qpeofw--toggle-closed").addClass("qpeofw--toggle-open"),o.find(".qpeofw-options-container").toggle(300),C(document).trigger("qodef_initialize_toggle_elements")})}},qodeProductExtraOptionsForWooCommerce.qodefWooCommerceMeasurementCompatibility=e={init:function(){var e=C("form.cart");e.length&&e.on("change","#price_calculator.wc-measurement-price-calculator-price-table",function(){var e=C("#price_calculator.wc-measurement-price-calculator-price-table .product_price .amount").text(),e=qodeProductExtraOptionsForWooCommerce.wcPriceToFloat.init(e);isNaN(e)||(C("#qpeofw-container").attr("data-product-price",e),C(document).trigger("qpeofw-reload-addons",[e]))})}};qodeProductExtraOptionsForWooCommerce.qodefCompositeCompatibility=e={init:function(){C(document).on("qpeofw_wcp_price_updated",function(e,o){var t=parseFloat(C("form.cart.ywcp > div.quantity input.qty").val()),t=t?o/t:o;C("#qpeofw-container").attr("data-product-price",t),qodeProductExtraOptionsForWooCommerce.calculateTotalAddonsPrice.init()})}};var x={init:function(){var q=0,w=0,h=0,g=0,v=C(qpeofwFrontend.productQuantitySelector).val();return 0<!v&&(v=1),C("form.cart .qpeofw-addon:not(.hidden):visible input, form.cart .qpeofw-addon:not(.hidden):visible select, form.cart .qpeofw-addon:not(.hidden):visible textarea").each(function(){let c=C(this),p=parseFloat(C("#qpeofw-container").attr("data-product-price")),s=c.data("addon-id");if(s){let e=c.attr("type"),o=c.data("price-method"),t=0,r=0,a="",i=c.parents(".qpeofw-addon"),n=i.data("addon-type"),d=1;if("number"===e&&0==c.val())return h;var l,f,u,m;c.is("textarea")&&(e="textarea"),(c.is(":checked")||c.find(":selected").is("option")||c.is("input:not([type=checkbox])")&&c.is("input:not([type=radio])")&&""!=c.val()||c.is("textarea")&&""!=c.val())&&(c.is("select")&&(c=c.find(":selected")),"number"===e&&x.checkMultipliedPrice(c),"text"!==e&&"textarea"!==e||x.checkMultipliedLength(c),w!=s&&(w=c.data("addon-id"),q=c.data("first-free-options")),"yes"==c.data("first-free-enabled")&&0<q?q--:(void 0!==c.data("price-type")&&""!==c.data("price-type")&&(a=c.data("price-type")),l=c.data("price-sale"),f=c.data("price"),u=c.data("default-sale-price"),m=c.data("default-price"),void 0!==l&&""!==l&&0<=l&&"multiplied"!==a?(t=parseFloat(l),r=parseFloat(u)):void 0!==f&&""!==f&&(t=parseFloat(f),r=parseFloat(m)),"percentage"===a&&"discount"!==o&&(t=t*p/100,r=r*p/100),"product"!==n||c.hasClass(".qpeofw-option")||(c=c.parents(".qpeofw-option"),(d=c.find(".qpeofw-product-qty"))&&1<(d=d.val())&&(t*=d,r*=d)),1<v&&!i.hasClass("qpeofw_sell_individually")&&(t*=v,r*=v),h+=t,g+=r))}}),{totalPrice:h,totalPriceDefault:g}},checkMultipliedPrice:function(e){let o=e.data("price");var t=e.data("price-sale");let r=e.data("default-price");var a=e.data("price-type"),i=e.data("price-method");let n="price",d=0;var c=e.val();0<!r&&(0<t&&"number"!==e.attr("type")&&"multiplied"===a&&(o=t,n="price-sale"),r=o,e.data("default-price",r)),"value_x_product"==i?(t=parseFloat(C("#qpeofw-container").attr("data-product-price")),d=c*t):"multiplied"==a&&(d=c*r),(0<d||"decrease"==i)&&e.data(n,d)},checkMultipliedLength:function(o){var t=o.data("price");let r=o.data("default-price");var e=o.data("price-type");if(0<!r&&(r=t,o.data("default-price",r)),"characters"===e){t=o.data("remove-spaces");let e=o.val().length;t&&(e=o.val().replace(/\s+/g,"").length),o.data("price",e*r)}}},c=(qodeProductExtraOptionsForWooCommerce.calculateAddonsPrice=x,qodeProductExtraOptionsForWooCommerce.calculateTotalAddonsPrice=e={init:function(e=!0){qodeProductExtraOptionsForWooCommerce.conditionalLogicCheck.init(),"yes"===qpeofwFrontend.hide_button_required&&(r=qpeofwFrontend.dom.single_add_to_cart_button,C(r).hide(),o=qodeProductExtraOptionsForWooCommerce.qodefCheckRequiredFields.init("hide"),t=qodeProductExtraOptionsForWooCommerce.qodefCheckRequiredMinMax.init("hide"),o)&&t&&C(r).fadeIn(),C("#qpeofw-total-price-table").css("opacity","0.5");var o=parseFloat(C("#qpeofw-container").attr("data-product-price")),t=qpeofwFrontend.total_price_box_option,r=C("button.qode-gift-cards-amount-buttons.selected_button"),r=(0<r.length&&(o=r.data("price")),qodeProductExtraOptionsForWooCommerce.calculateAddonsPrice.init()),a=r.totalPrice,r=r.totalPriceDefault;"hide_options"===t&&(0!==a?C("#qpeofw-total-price-table .hide_options tr.qpeofw-total-options").fadeIn():C("#qpeofw-total-price-table .hide_options tr.qpeofw-total-options").hide()),qodeProductExtraOptionsForWooCommerce.qodefSetTotalBoxPrices.init(o,a,e,r)}},qodeProductExtraOptionsForWooCommerce.productQty=e={init:function(){C(".qpeofw-product-qty").on("keyup",function(){var e="?add-to-cart="+C(this).data("product-id")+"&quantity="+C(this).val();C(this).parent().find("a").attr("href",e)})}},qodeProductExtraOptionsForWooCommerce.productQuantityChange=e={init:function(){let e=C(this),o=e.val(),t=e.closest(".qpeofw-option").data("product-id"),r=e.closest(".qpeofw-option-add-to-cart").find(".add_to_cart_button"),a=1,i;r.length&&t&&(i="?add-to-cart="+t+"&quantity="+(a=1<o?o:a),r.attr("href",i))}},qodeProductExtraOptionsForWooCommerce.wcPriceToFloat={init:function(e){e=e.replace(/(?![\.\,])\D/g,"").replace(qpeofwFrontend.total_thousand_sep,"").replace(qpeofwFrontend.decimal_sep,".");return parseFloat(e)}},qodeProductExtraOptionsForWooCommerce.getDefaultProductPrice={init:function(){if(qpeofwFrontend.enableGetDefaultVariationPrice){let r=C(".variations_form.cart").data("product_id");var e={action:"get_default_variation_price",product_id:parseInt(r),security:qpeofwFrontend.addons_nonce};C.ajax({url:qpeofwFrontend.ajaxurl,type:"post",data:e,success:function(e){var o,t;e&&(o=e.price_html,(t=C("#qpeofw-container")).attr("data-product-price",e.current_price),t.attr("data-product-id",r),"yes"===qpeofwFrontend.replace_product_price)&&t.find(".qpeofw-block").length&&C(qpeofwFrontend.replace_product_price_class).html(o)},complete:function(){}})}}},qodeProductExtraOptionsForWooCommerce.multipliedByValuePrice={init:function(){var e=C(".qpeofw-addon-type-number input");e.length&&e.on("change keyup",function(e){var o=C(this).val(),t=C(this).closest(".qpeofw-option"),o=""==o?!0:!1;qodeProductExtraOptionsForWooCommerce.replaceImage.init(t,o),qodeProductExtraOptionsForWooCommerce.calculateAddonsPrice.checkMultipliedPrice(C(this))})}},{init:function(e={}){var d={};C("form.cart .qpeofw-addon.conditional_logic").each(function(){var e=!1,o=!1,t=C(this).data("conditional_logic_display"),r=C(this).data("conditional_logic_display_if"),a=String(C(this).data("conditional_rule_addon")),i=String(C(this).data("conditional_rule_addon_is")),n=String(C(this).data("conditional_rule_variations")),a=void 0!==a&&"0"!==a&&""!==a&&a.split("|"),i=void 0!==i&&""!==i&&i.split("|");if((n=void 0!==n&&""!==n&&n.split("|"))||a&&i){if(a&&i)switch(r){case"all":e=c.conditionalLogicAllRules(a,i);break;case"any":e=c.conditionalLogicAnyRules(a,i)}else e=!0;e&&n&&(r=C(".variation_id").val(),-1===C.inArray(String(r),n))||(o=!0)}else o=e=!0,t="show";switch(t){case"show":d[C(this).attr("id")]=o&&e?"not-hidden":"hidden";break;case"hide":d[C(this).attr("id")]=o&&e?"hidden":"not-hidden"}}),C.each(d,function(e,o){e=C("#"+e);"not-hidden"===o?(("slide"===qpeofwFrontend.conditionalDisplayEffect?e.slideDown():e.fadeIn()).removeClass("hidden").find(".qpeofw-option:not(.out-of-stock) .qpeofw-option-value").attr("disabled",!1),o=e.find(".qpeofw-option.qpeofw-selected"),qodeProductExtraOptionsForWooCommerce.replaceImage.init(o),e.hasClass("qpeofw-addon-type-select")&&e.find(".qpeofw-option-value").attr("disabled",!1),qodeProductExtraOptionsForWooCommerce.qodefCheckMinMax.init(e)):("slide"===qpeofwFrontend.conditionalDisplayEffect?e.slideUp():e.hide()).addClass("hidden").find(".qpeofw-option-value").attr("disabled",!0)}),JSON.stringify(d)!==JSON.stringify(e)&&qodeProductExtraOptionsForWooCommerce.conditionalLogicCheck.init(d)},conditionalLogicAllRules:function(e,o){for(var t=!0,r=e.length,a=0;a<r;a++)if(0!=e[a]&&e[a]){var i,n,d=e[a].split("-"),c=!1,p=!1;switch(p=void 0!==d[1]?(c=(C("#qpeofw-"+d[0]+"-"+d[1]).is(":checked")||C("select#qpeofw-"+d[0]).val()==d[1])&&!C("#qpeofw-addon-"+d[0]).hasClass("hidden"),n=C("input#qpeofw-"+d[0]+"-"+d[1]).val(),i=C("textarea#qpeofw-"+d[0]+"-"+d[1]).val(),(void 0!==n&&""!==n||void 0!==i&&""!==i)&&!C("#qpeofw-addon-"+d[0]).hasClass("hidden")):(c=(c=0<C("#qpeofw-addon-"+e[a]+" input:checkbox:checked").length||0<C("#qpeofw-addon-"+e[a]+" input:radio:checked").length||0<C("#qpeofw-addon-"+e[a]+" option:selected").length&&"default"!=C("#qpeofw-addon-"+e[a]+" option:selected").val())&&!C("#qpeofw-addon-"+e[a]).hasClass("hidden"),n="undefined",C("#qpeofw-addon-"+d[0]+" input, #qpeofw-addon-"+d[0]+" textarea").each(function(e){""!==C(this).val()&&(n=!0)}),"undefined"!==n&&""!==n&&!C("#qpeofw-addon-"+d[0]).hasClass("hidden")),o[a]){case"selected":c||(t=!1);break;case"not-selected":c&&(t=!1);break;case"empty":p&&(t=!1);break;case"not-empty":p||(t=!1)}if(!t)break}return t},conditionalLogicAnyRules:function(e,o){for(var t=!1,r=e.length,a=0;a<r;a++)if(0!=e[a]&&e[a]){var i,n,d=e[a].split("-"),c=!1,p=!1;switch(p=void 0!==d[1]?(c=(C("#qpeofw-"+d[0]+"-"+d[1]).is(":checked")||C("select#qpeofw-"+d[0]).val()==d[1])&&!C("#qpeofw-addon-"+d[0]).hasClass("hidden"),n=C("input#qpeofw-"+d[0]+"-"+d[1]).val(),i=C("textarea#qpeofw-"+d[0]+"-"+d[1]).val(),(void 0!==n&&""!==n||void 0!==i&&""!==i)&&!C("#qpeofw-addon-"+d[0]).hasClass("hidden")):(c=(c=0<C("#qpeofw-addon-"+e[a]+" input:checkbox:checked").length||0<C("#qpeofw-addon-"+e[a]+" input:radio:checked").length||0<C("#qpeofw-addon-"+e[a]+" option:selected").length&&"default"!=C("#qpeofw-addon-"+e[a]+" option:selected").val())&&!C("#qpeofw-addon-"+e[a]).hasClass("hidden"),n="undefined",C("#qpeofw-addon-"+d[0]+" input, #qpeofw-addon-"+d[0]+" textarea").each(function(e){""!==C(this).val()&&(n=!0)}),"undefined"!==n&&""!==n&&!C("#qpeofw-addon-"+d[0]).hasClass("hidden")),o[a]){case"selected":c&&(t=!0);break;case"not-selected":c||(t=!0);break;case"empty":p||(t=!0);break;case"not-empty":p&&(t=!0)}if(t)break}return t}}),d=(qodeProductExtraOptionsForWooCommerce.conditionalLogicCheck=c,{init:function(e,o,t=0,r=0){var a=C(qpeofwFrontend.productQuantitySelector).val(),e=e*(a=0<!a?1:a),a=parseFloat(o),o=parseFloat(o+e),i=a,a={product_id:parseInt(C("#qpeofw-container").attr("data-product-id")),options_price:a,options_default_price:r,total_order_price:o};d.calculateProductPrice(a),C("#qpeofw-total-price-table").css("opacity","1"),C(document).trigger("qodef_product_price_updated",[e+i])},calculateProductPrice:function(a){var e={action:"update_totals_with_suffix",data:a,security:qpeofwFrontend.addons_nonce};C.ajax({url:qpeofwFrontend.ajaxurl,type:"post",data:e,success:function(e){var o,t,r;e&&(o=e.price_html,t=e.options_price_suffix,e=e.order_price_suffix,r=a.total_order_price,C("#qpeofw-total-product-price").html(o),C("#qpeofw-total-options-price").html(t),C("#qpeofw-total-order-price").html(e),d.replaceProductPrice(r,e))}})},replaceProductPrice:function(e,o){("yes"===qpeofwFrontend.replace_price_in_product_without_addons||C("#qpeofw-container").length&&C("#qpeofw-container").find(".qpeofw-block").length)&&0<parseInt(e)&&"yes"===qpeofwFrontend.replace_product_price&&!isNaN(parseFloat(e))&&0<C(qpeofwFrontend.replace_product_price_class).length&&(C(qpeofwFrontend.replace_product_price_class).html('<span class="woocommerce-Price-amount amount"><bdi>'+o+"</bdi></span>"),e=C(qpeofwFrontend.replace_product_price_class+" bdi").text(),0===qodeProductExtraOptionsForWooCommerce.wcPriceToFloat.init(e))&&C(qpeofwFrontend.replace_product_price_class).find("bdi").remove()}}),o=(qodeProductExtraOptionsForWooCommerce.qodefSetTotalBoxPrices=d,{init:function(){C(document).on("qode-gift-cards-amount-changed",function(e,o){o=o.data("price");C("#qpeofw-container").attr("data-product-price",o),qodeProductExtraOptionsForWooCommerce.calculateTotalAddonsPrice.init()}).on("qpeofw-product-price-updated",function(e,o){void 0!==o&&C("#qpeofw-container").attr("data-product-price",o),qodeProductExtraOptionsForWooCommerce.calculateTotalAddonsPrice.init()}).on("change",".gift-cards-list .qode-gift-cards-manual-amount-container input.qode-gift-cards-manual-amount",function(e){var o=C(this).val();C("#qpeofw-container").attr("data-product-price",o),qodeProductExtraOptionsForWooCommerce.calculateTotalAddonsPrice.init()}).on("qode_dynamic_pricing_price_html_updated",function(e,o){o=C(o).children(".amount bdi").text(),o=qodeProductExtraOptionsForWooCommerce.wcPriceToFloat.init(o);isNaN(o)||(C("#qpeofw-container").attr("data-product-price",o),qodeProductExtraOptionsForWooCommerce.calculateTotalAddonsPrice.init())}).on("qode_product_bundles_for_woocommerce_premium_updated_bundle_product_price",function(e,o){isNaN(o)||(C("#qpeofw-container").attr("data-product-price",o),qodeProductExtraOptionsForWooCommerce.calculateTotalAddonsPrice.init())}).on("change","form.cart div.qpeofw-addon, form.cart .quantity input[type=number]",function(){qodeProductExtraOptionsForWooCommerce.calculateTotalAddonsPrice.init()}).on("keyup",'form.cart .qpeofw-addon-type-number input[type="number"], form.cart .qpeofw-addon-type-text input[type="text"], form.cart .qpeofw-addon-type-textarea textarea',function(){qodeProductExtraOptionsForWooCommerce.calculateTotalAddonsPrice.init()}).on("click","form.cart .qpeofw-addon-type-colorpicker .qpeofw-colorpicker-initialized input.wp-color-picker",function(){qodeProductExtraOptionsForWooCommerce.calculateTotalAddonsPrice.init()}).on("qpeofw-colorpicker-change",function(){qodeProductExtraOptionsForWooCommerce.calculateTotalAddonsPrice.init()}).on("change",".qpeofw-addon-type-checkbox input",function(){var e=C(this),o=e.parents(".qpeofw-checkbox-button"),t=e.parents(".qpeofw-option"),r=t.parent();"checked"!==e.attr("checked")?(t.hasClass("qpeofw-selection--single")&&(r.find("input").attr("checked",!1),r.find("input").prop("checked",!1),r.find(".qpeofw-selected, .checked").removeClass("qpeofw-selected checked")),e.attr("checked",!0),e.prop("checked",!0),t.addClass("qpeofw-selected"),o.addClass("checked"),qodeProductExtraOptionsForWooCommerce.replaceImage.init(t)):(e.attr("checked",!1),e.prop("checked",!1),t.removeClass("qpeofw-selected"),o.removeClass("checked"),qodeProductExtraOptionsForWooCommerce.replaceImage.init(t,!0))}).on("click",".qpeofw-addon-type-radio input",function(){var e=C(this).closest(".qpeofw-option");e.hasClass("qpeofw-option")||(e=e.closest(".qpeofw-option")),C(this).is(":checked")?(e.addClass("qpeofw-selected"),e.siblings().removeClass("qpeofw-selected"),qodeProductExtraOptionsForWooCommerce.replaceImage.init(e)):e.removeClass("qpeofw-selected"),e.trigger("qpeofw_option_class_changed")}).on("change",".qpeofw-addon-type-select select",function(){let e=C(this).parents(".qpeofw-options");var o=C(this).find("option:selected"),t=e.find("div.qpeofw-option-image"),r=C(this),a=(e.hasClass("qpeofw-option")||(e=e.parent()),o.data("image")),i=o.data("description"),n=e.find("p.qpeofw-option-description");void 0!==a&&a&&t.html(a='<img src="'+a+'" style="max-width: 100%">'),"default"===o.val()||""===a?t.hide():t.fadeIn(),void 0!==i&&i?(n.html(i),n.show()):(n.empty(),n.hide()),(r.hasClass("qpeofw-image-replacement--options")||r.hasClass("qpeofw-image-replacement--addon"))&&(o.data("replace-image")?qodeProductExtraOptionsForWooCommerce.replaceImage.init(o):qodeProductExtraOptionsForWooCommerce.replaceImage.init(o,!0))}),C(".qpeofw-addon-type-select select").trigger("change"),qodeProductExtraOptionsForWooCommerce.calculateTotalAddonsPrice.init(),o.checkDefaultOptionsOnLoad(),C(document).on("change keyup",".qpeofw-option .qpeofw-product-qty",function(){qodeProductExtraOptionsForWooCommerce.productQuantityChange.init()}),C(document).on("reset_data",function(e){qodeProductExtraOptionsForWooCommerce.resetAddons.init(e)}),C(document).on("found_variation qode_variation_swatches_for_woocommerce_premium_trigger_variation_select_changed",function(e,o){qodeProductExtraOptionsForWooCommerce.foundVariation.init(e,o)}),C(document).on("qpeofw-reload-addons",function(){qodeProductExtraOptionsForWooCommerce.reloadAddons.init()})},checkDefaultOptionsOnLoad:function(){var e=C(".qpeofw-addon:not(.conditional_logic) .qpeofw-option.qpeofw-selected");C(e).each(function(){var e=C(this);qodeProductExtraOptionsForWooCommerce.replaceImage.init(e)})}}),p=(qodeProductExtraOptionsForWooCommerce.totalAddonsPriceInitOn=o,qodeProductExtraOptionsForWooCommerce.resetAddons={init:function(e){}},qodeProductExtraOptionsForWooCommerce.foundVariation={init:function(e,o){qodeProductExtraOptionsForWooCommerce.updateContainerProductPrice.init(o),C(document).trigger("qpeofw-reload-addons")}},qodeProductExtraOptionsForWooCommerce.updateContainerProductPrice={init:function(t){if(C(".cart .qpbfw-bundle-product-items").length||t.variation_id!==parseInt(C(".variation_id").val()))console.log("Price update intentionally prevented.");else{let e=C("#qpeofw-container"),o=0;var r;void 0!==t.display_price&&(o=t.display_price,"yes"===qpeofwFrontend.use_price_html_on_variations)&&void 0!==t.price_html&&(r=C(t.price_html).find("> .amount bdi").text(),r=qodeProductExtraOptionsForWooCommerce.wcPriceToFloat.init(r),isNaN(r)||o===r||(o=r)),e.attr("data-product-price",o),e.attr("data-product-id",t.variation_id)}}},qodeProductExtraOptionsForWooCommerce.reloadAddons={init:function(e,o=""){var t=C("form.cart").serializeArray(),r=C("form.cart:not(.ywcp) #qpeofw-container"),t={action:"live_print_blocks",addons:t,currency:qpeofwFrontend.woocommerce_currency,current_language:qpeofwFrontend.currentLanguage,security:qpeofwFrontend.addons_nonce};""!=o&&(t.price=o),C.ajax({url:qpeofwFrontend.ajaxurl,type:"post",data:t,beforeSend:function(){C("#qpeofw-container").css("opacity","0.5")},error:function(e,o,t){console.error("AJAX request failed: ",o,t)},success:function(e){var o=e.html||"",t=e.quantities||"",o=(""!==o&&C(".qpeofw-container").html(o),e.addons||"");""!==o&&qodeProductExtraOptionsForWooCommerce.addonsSelection.init(o),t&&qodeProductExtraOptionsForWooCommerce.addonsQuantity.init(t),C("form.cart").trigger("qpeofw-after-reload-addons")},complete:function(e){r.attr("data-order-price",0),qodeProductExtraOptionsForWooCommerce.calculateTotalAddonsPrice.init(),r.css("opacity","1")}})}},qodeProductExtraOptionsForWooCommerce.addonsSelection={init:function(e){var o,t=0;for(o in e){var r,a=e[o];for(r in a){var i=a[r],n=r.split("-"),d=n[0]||"",c=n[1]||"",p=C("#qpeofw-addon-"+d).get(0),n=C(p).data("addon-type");if(""!==i){var s="";switch(n){case"checkbox":case"label":case"color":case"product":(s=C(p).find("#qpeofw-"+d+"-"+c)).is(":checked")||C(s).click();break;case"radio":(s=C(p).find("#qpeofw-"+d+"-"+i)).click();break;case"text":case"textarea":case"number":case"date":(s=C(p).find("#qpeofw-"+d+"-"+c)).val(i);break;case"colorpicker":(s=C(p).find("#qpeofw-"+d+"-"+c)).val(i),s.trigger("change");break;case"select":(s=C(p).find("#qpeofw-"+d)).val(i);break;case"file":var s=C(p).find("#qpeofw-"+d+"-"+c),l=C("#qpeofw-option-"+d+"-"+c);qodeProductExtraOptionsForWooCommerce.loadUploadedFile.init({addon:C(p),option:l,addonVal:i,addonIndex:r,index:t,fileSize:""}),t++}}}}qodeProductExtraOptionsForWooCommerce.loadUploadedFile.maybeHideImageUploaded()}},{init:function(e){e.addon;var o=e.option||"",t=e.addonVal||"",r=e.addonIndex||"",a=e.index||"",e=e.fileSize||"",i=(t=C.isArray(t)?t[0]:t).split("/").reverse()[0]?t.split("/").reverse()[0]:"",n=t.endsWith("jpeg")||t.endsWith("jpg")||t.endsWith("png"),d=wp.template("qpeofw-uploaded-file-template"),c=C(".qpeofw-uploaded-file");c.append(d({fileIndex:a,fileName:i,fileSize:e,optionId:r,image:n?t:"",addonVal:t})),c.show(),p.maybeHideUploadButton(o)},maybeHideImageUploaded:function(){C(".qodef-addon-type-file .qpeofw-img-uploaded").each(function(){C(this).attr("src")||C(this).hide()})},maybeHideUploadButton:function(e){var o=e.data("max-multiple");e.find(".qpeofw-uploaded-file-element").length>=o&&e.find(".qpeofw-ajax-uploader-container").hide()}}),t=(qodeProductExtraOptionsForWooCommerce.loadUploadedFile=p,qodeProductExtraOptionsForWooCommerce.addonsQuantity={init:function(o){C.each(C(".qpeofw-container").find(".qpeofw-product-qty"),function(){var e=C(this).attr("id").replace("qpeofw_product_qty","").replace("[","").replace("]","");e in o&&(e=o[e],C(this).val(e))})}},qodeProductExtraOptionsForWooCommerce.replaceImage={init:function(e,o=!1){var t,r=qpeofwFrontend.replace_image_path,a=".zoomWindowContainer .zoomWindow",i=e.data("replace-image");null===i||!o&&C(r).attr("src")===i||(void 0!==e.data("replace-image")&&""!=e.data("replace-image")&&(void 0===C(r).attr("qpeofw-original-img")&&(C(r).attr("qpeofw-original-img",C(r).attr("src")),C(a).length)&&C(a).attr("qpeofw-original-img",C(a).css("background-image").slice(4,-1).replace(/"/g,"")),C(r).attr("src",i),C(r).attr("srcset",i),C(r).attr("data-src",i),C(a).css("background-image","url("+i+")"),C("#qpeofw_product_img").val(i),C(r).attr("data-large_image",i),0<C(".woocommerce-product-gallery .woocommerce-product-gallery__image").length&&C(".woocommerce-product-gallery").trigger("woocommerce_gallery_reset_slide_position"),C(".woocommerce-product-gallery").trigger("woocommerce_gallery_init_zoom"),C(document).trigger("qode-after-replace-image")),o&&void 0!==C(r).attr("qpeofw-original-img")&&(t=C(r).attr("qpeofw-original-img"),e=C(a).attr("qpeofw-original-img"),C("#qpeofw-container .qpeofw-option").each(function(e,o){o=C(o);o.data("replace-image")&&o.hasClass("selected")&&(t=o.data("replace-image"))}),C("#qpeofw_product_img").val(t),C(r).attr("src",t),C(r).attr("srcset",t),C(r).attr("data-src",t),C(r).attr("data-large_image",t),C(a).css("background-image","url("+e+")"),0<C(".woocommerce-product-gallery .woocommerce-product-gallery__image").length&&C(".woocommerce-product-gallery").trigger("woocommerce_gallery_reset_slide_position"),C(".woocommerce-product-gallery").trigger("woocommerce_gallery_init_zoom"),C(document).trigger("qode-after-replace-image")))}},{init:function(e){qodeProductExtraOptionsForWooCommerce.pluginHasPredefinedStyle.init()&&(this.holder=[],this.holder.push({holder:C(".qpeofw-addon.qpeofw-addon-type-select .qpeofw-options select.qpeofw-option-value"),options:{minimumResultsForSearch:-1,dropdownCssClass:qodeProductExtraOptionsForWooCommerce.body.hasClass("qode-product-extra-options-for-woocommerce-select2-style--plugin-fields")?"qpeofw-dropdown-select2":""}}),C.extend(this.holder,e),"object"==typeof this.holder)&&C.each(this.holder,function(e,o){t.createSelect2(o.holder,o.options)})},createSelect2:function(e,o){"function"==typeof e.select2&&e.select2(o)}});qodeProductExtraOptionsForWooCommerce.qodefAddonFieldsSelect2=t,qodeProductExtraOptionsForWooCommerce.pluginHasPredefinedStyle={init:function(){var e=!1;return e=C("#qpeofw-container").hasClass("qpeofw-form-style--predefined-style")?!0:e}}})(jQuery);